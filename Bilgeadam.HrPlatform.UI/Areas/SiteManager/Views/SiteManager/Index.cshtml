@using Bilgeadam.HrPlatform.Entities.Entities;
@model AppUser
@{
    ViewData["Title"] = "Home Page";
    Layout = "~/Views/Shared/_MyLayout.cshtml";
}
@functions {
    public string FormatliTelefonNumarasi(string telefonNumarasi)
    {
        if (telefonNumarasi.Length != 10)
        {
            // Telefon numarası 10 haneli olmalıdır. İsteğe göre hata kontrolü yapabilirsiniz.
            return telefonNumarasi;
        }

        return string.Format("({0}) {1} {2} {3}",
        telefonNumarasi.Substring(0, 3),
        telefonNumarasi.Substring(3, 3),
        telefonNumarasi.Substring(6, 2),
        telefonNumarasi.Substring(8, 2));
    }
}

<div class="col-lg-12 mb-4 mb-lg-0">
    <div style="display: flex; align-items: center;">
        <div class="col-lg-3 mb-4 mb-lg-0">
            @{

               
                @if (Model.ProfilePhoto == null)
                {
                    if (Model.Gender == "Male")
                    {
                        <img src="~/Content/assets/images/faces/default.jpg" alt="Profile Photo" style="width: 100px; height: 100px; object-fit:cover;" />
                    }
                    else
                    {
                        <img src="~/Content/assets/images/faces/defaultwomen.jpg" alt="Profile Photo" style="width: 100px; height: 100px; object-fit:cover;" />
                    }

                }
                else
                {
                    <img class="rounded-circle" style="width: 100px; height: 100px; object-fit:cover;" src="data:image;base64,@System.Convert.ToBase64String(Model.ProfilePhoto)" />
                }
            }
        </div>
        
        <div class="col-lg-3 mb-4 mb-lg-0">
            <h1 style="text-transform: capitalize;">@Model.FirstName @Model.SecondName @Model.LastName @Model.SecondLastName</h1>
        </div>
    </div>
</div>
<hr />
<div class="col-lg-6 mb-4 mb-lg-0">
    <table class="table table-bordered">
        <tbody>
            <tr>
                <th scope="col">Profession</th>
                <td>
                    @if (Model.Profession is null)
                    {
                        Model.Profession = " --- ";
                        <h1>@Html.DisplayFor(model => model.Profession)</h1>
                    }
                    else
                    {
                        Model.Department = Model.Department;
                        @Html.DisplayFor(model => model.Profession)

                    }
                </td>
            </tr>
            <tr>
                <th scope="col">Department</th>
                <td>
                    @if (Model.Department is null)
                    {
                        Model.Department = " --- ";
                        <h1>@Html.DisplayFor(model => model.Department)</h1>
                    }
                    else
                    {
                        Model.Department = Model.Department;
                        @Html.DisplayFor(model => model.Department)

                    }
                </td>
            </tr>
            <tr>
                <th scope="col">E-Mail</th>
                <td>@Html.DisplayFor(model => model.Email)</td>
            </tr>
            <tr>
                <th scope="col">Phone</th>
                <td>
                    <div>
                        <span>@FormatliTelefonNumarasi(Model.PhoneNumber)</span>
                    </div>
                </td>
             @*  <input asp-for="PhoneNumber" class="form-control" placeholder="(XXX) XXX-XXXX" oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\d{3})(\d{3})(\d{4})/, '($1) $2-$3')" maxlength="14" />*@
            </tr>
            <tr>
                <td>
                    <a asp-area="SiteManager" asp-controller="SiteManager" asp-action="Update" type="submit" class="btn btn-primary">Edit User Infos</a>
                </td>
            </tr>
        </tbody>
    </table>
</div>